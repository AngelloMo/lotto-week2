<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>로또 역대 당첨번호</title>
  <meta name="description" content="동행복권 로또 당첨번호 이력을 확인하고 검색할 수 있는 사이트입니다." />
  <meta name="keywords" content="로또, lotto, 당첨번호, 역대당첨번호, 동행복권" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🎱</text></svg>">
  <link href='/style.css' rel='stylesheet'>
  <script src='https://unpkg.com/tesseract.js@v2.1.0/dist/tesseract.min.js'></script>
</head>
<body>
  <h1>로또 당첨번호</h1>
  
  <nav class="main-nav">
    <button id="nav-history" class="active">당첨결과 이력</button>
    <button id="nav-search">회차 검색</button>
    <button id="nav-performance">회차별 성적</button>
    <button id="nav-stats">성적 통계</button>
    <button id="nav-stats-recent">성적 통계(1000+)</button>
    <button id="nav-collision">중복 당첨 분석</button>
    <button id="nav-collision-stats">중복 번호 통계</button>
    <button id="nav-manual-check">수동 번호 분석</button>
    <button id="nav-photo">사진으로 분석</button>
    <button id="nav-simulation">Top 1000 시뮬</button>
    <button id="nav-recommend">번호 추천</button>
    <button id="nav-analysis">분석 추천</button>
    <button id="nav-ai-pro">AI 고급 추천</button>
  </nav>

  <div id="loading-indicator">데이터를 불러오는 중...</div>

  <!-- History View -->
  <section id="history-view" class="view-section">
    <div id="lotto-numbers-container"></div>
    <div id="pagination-container"></div>
  </section>

  <!-- Search View -->
  <section id="search-view" class="view-section" style="display: none;">
    <div class="search-container">
      <select id="search-select">
        <option value="">회차 선택</option>
      </select>
      <button id="search-button">조회</button>
    </div>
    <div id="search-result-container"></div>
  </section>

  <!-- Round Performance View -->
  <section id="performance-view" class="view-section" style="display: none;">
    <div class="search-container">
      <select id="performance-select">
        <option value="">기준 회차 선택</option>
      </select>
      <button id="performance-button">성적 분석</button>
    </div>
    <div id="performance-result-container"></div>
  </section>

  <!-- Stats View -->
  <section id="stats-view" class="view-section" style="display: none;">
    <div class="recommend-header">
      <h2>과거 성적 분포 (500회 이후)</h2>
      <p>500회부터 최신 회차까지의 1등 번호들이<br>해당 회차 이전 과거에 기록했던 최고 순위 분포입니다.</p>
    </div>
    <div id="stats-container"></div>
  </section>

  <!-- Recent Stats View -->
  <section id="stats-recent-view" class="view-section" style="display: none;">
    <div class="recommend-header">
      <h2>최근 성적 분포 (1000회 이후)</h2>
      <p>1000회부터 최신 회차까지의 1등 번호들이<br>해당 회차 이전 과거에 기록했던 최고 순위 분포입니다.</p>
    </div>
    <div id="stats-recent-container"></div>
  </section>

  <!-- Collision View -->
  <section id="collision-view" class="view-section" style="display: none;">
    <div class="recommend-header">
      <h2>중복 당첨 분석 (역대급 우연)</h2>
      <p>1,212회의 역사 중 서로 다른 회차에서<br>5개 이상의 번호가 일치했던 진귀한 사례들을 분석합니다.</p>
    </div>
    <div id="collision-container"></div>
  </section>

  <!-- Collision Stats View -->
  <section id="collision-stats-view" class="view-section" style="display: none;">
    <div class="recommend-header">
      <h2>중복 번호 통계</h2>
      <p>역대 중복 당첨 사례(5개 이상 일치)에 등장했던<br>번호들의 출현 빈도를 분석합니다.</p>
    </div>
    <div id="collision-stats-container"></div>
  </section>

  <!-- Manual Check View -->
  <section id="manual-check-view" class="view-section" style="display: none;">
    <div class="recommend-header">
      <h2>수동 번호 과거 분석</h2>
      <p>6개의 번호를 선택하세요. 과거 모든 회차와 대조합니다.</p>
      <div id="manual-selection-grid" class="number-selection-grid"></div>
      <div id="selected-numbers-display" class="selected-display">
        <span class="placeholder">번호를 선택해주세요 (0/6)</span>
      </div>
      <div class="button-group" style="display:flex; gap:10px; justify-content:center;">
        <button id="manual-analyze-btn" disabled>과거 성적 분석하기</button>
        <button id="manual-reset-btn" class="secondary-btn">다시하기</button>
      </div>
    </div>
    <div id="manual-check-result-container"></div>
  </section>

  <!-- Photo Analyze View -->
  <section id="photo-view" class="view-section" style="display: none;">
    <div class="recommend-header">
      <h2>사진으로 번호 분석</h2>
      <p>로또 용지 사진을 올리면 번호를 자동으로 인식하여<br>수동 분석 페이지로 이동합니다.</p>
      
      <div class="upload-area" id="upload-area">
        <input type="file" id="photo-input" accept="image/*" style="display:none">
        <div id="upload-placeholder">
          <p style="font-size:2em; margin:0;">📸</p>
          <p>여기를 클릭하여 사진을 업로드하세요</p>
        </div>
        <img id="photo-preview" style="display:none; max-width:100%; border-radius:8px;">
      </div>

      <div id="ocr-progress-container" style="display:none; margin-top:15px;">
        <p id="ocr-status-text">분석 준비 중...</p>
        <div class="progress-bar-bg">
          <div id="ocr-progress-bar" class="progress-bar-fill"></div>
        </div>
      </div>

      <button id="photo-analyze-btn" style="display:none; margin-top:15px;">번호 추출 및 분석</button>
    </div>
  </section>

  <!-- Simulation View -->
  <section id="simulation-view" class="view-section" style="display: none;">
    <div class="recommend-header">
      <h2>Top 1000 시뮬레이션 분석</h2>
      <p>번호 조합 1,000개를 즉석에서 생성하고<br>과거 성적 점수가 가장 높은 최강의 조합 Top 3를 찾습니다.</p>
      <p style="font-size:0.8em; color:#888;">(1등: 1000점, 2등: 500점, 3등: 400점, 4등: 200점, 5등: 100점)</p>
      <button id="simulation-run-btn">시뮬레이션 시작 (1,000개 조합)</button>
    </div>
    <div id="simulation-result-container"></div>
  </section>

  <!-- Recommend View -->
  <section id="recommend-view" class="view-section" style="display: none;">
    <div class="recommend-header">
      <h2>행운의 추천 번호</h2>
      <p>이번 주 행운을 빌어요! 5개의 조합을 생성합니다.</p>
      <button id="generate-btn">새로운 번호 생성</button>
    </div>
    <div id="recommend-container"></div>
  </section>

  <!-- Analysis Recommend View -->
  <section id="analysis-view" class="view-section" style="display: none;">
    <div class="recommend-header">
      <h2>AI 분석 추천 (1개)</h2>
      <p>번호 1개를 생성하고 과거 모든 회차와 대조하여<br>최고 성적을 분석합니다.</p>
      <button id="analysis-generate-btn">분석 번호 생성</button>
    </div>
    <div id="analysis-container"></div>
  </section>

  <!-- AI Advanced Recommend View -->
  <section id="ai-pro-view" class="view-section" style="display: none;">
    <div class="recommend-header">
      <h2>AI 패턴 분석 고급 추천</h2>
      <p>역대 당첨 데이터를 분석하여 최적의 조합을 생성합니다.<br>
      (출현 빈도, 미출현 번호, 홀짝 비율, 총합 범위를 고려)</p>
      <button id="ai-pro-generate-btn">AI 고급 분석 번호 생성</button>
    </div>
    <div id="ai-pro-container"></div>
  </section>

  <script defer type="text/javascript" src="/main.js"></script>
</body>
</html>
